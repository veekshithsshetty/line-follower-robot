LEFT_SENSOR EQU P1.0
RIGHT_SENSOR EQU P1.1 
LEFT_MOTOR EQU P2.0 
RIGHT_MOTOR EQU P2.1
ORG 000H 
MOV P1,#0FFH 
MOV P2,#00H
BACK : MOV P2,#03H
BACK1 : JB LEFT_SENSOR, CHECK_RS
JB RIGHT_SENSOR,TURN_RIGHT 
SJMP BACK
CHECK_RS : JB RIGHT_SENSOR, STOP
SETB RIGHT_MOTOR 
CLR LEFT_MOTOR 
ACALL WAIT_LEFT 
SJMP BACK1
STOP : CLR RIGHT_MOTOR
CLR LEFT_MOTOR 
HERE : SJMP HERE
TURN_RIGHT : CLR RIGHT_MOTOR
SETB LEFT_MOTOR 
ACALL WAIT_RIGHT 
SJMP BACK1
WAIT_RIGHT : JB RIGHT_SENSOR,WAIT_RIGHT
RET
WAIT_LEFT : JB LEFT_SENSOR,WAIT_LEFT
RET
END